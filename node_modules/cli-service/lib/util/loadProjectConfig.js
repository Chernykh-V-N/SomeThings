const fs = require('fs')
const path = require('path')

module.exports = function loadProjectConfig() {
  const configPath = path.resolve(process.env.BUILD_CONTEXT, 'pack.config.js')

  if (fs.existsSync(configPath)) {
    try {
      fileConfig = require(configPath)
      if (!fileConfig || typeof fileConfig !== 'object') {
        throw new Error('config文件需要导出一个对象')
      }
    } catch (e) {
      throw e
    }
  }

  return fileConfig
}
